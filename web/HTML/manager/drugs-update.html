<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>药品信息编辑</title>
    <link rel="stylesheet" href="../../css/update.css">
</head>
<style>
	
</style>
<body>
	<div class="headder">
		<p>药品信息编辑</p>
	</div>
	<div class="out">
		<form action="/manage/update/drug"  method="post">

			<div>
				<label><span>*</span>药品ID：</label>
				<div>
					<input name="drugID" id="drugID" type="text" class="input-text"  >
				</div>
			</div>

			<div>
				<label><span>*</span>药品批号：</label>
				<div>
					<input name="batchNumber" id="batchNumber" type="text" class="input-text"  >
				</div>
			</div>

			<div>
				<label><span>*</span>供应商ID：</label>
				<div>
					<input name="supplierID" id="supplierID" type="text" class="input-text"  >
				</div>
			</div>

			<div>
				<label><span>*</span>药品名称：</label>
				<div>
					<input name="name" id="name" type="text" class="input-text" >
				</div>
			</div>
            <div>
				<label><span>*</span>产地：</label>
				<div>
					<input name="placeOfOrigin" id="placeOfOrigin" type="text" class="input-text" >
				</div>
			</div>
            <div>
				<label><span>*</span>所属类型：</label>
				<div>
					<input name="categoryOfOwnership" id="categoryOfOwnership" type="text" class="input-text" >
				</div>
			</div>
            <div>
				<label><span>*</span>进价：</label>
				<div>
					<input name="purchasingPrice" id="purchasingPrice" type="text" class="input-text" >
				</div>
			</div>
            <div>
				<label><span>*</span>单价：</label>
				<div>
					<input name="unitPrice" id="unitPrice" type="text" class="input-text" >
				</div>
			</div>
            <div>
				<label><span>*</span>库存：</label>
				<div>
					<input name="inventory" id="inventory" type="text" class="input-text" >
				</div>
			</div>
            <div>
				<label><span>*</span>生产日期：</label>
				<div>
					<input name="dateOfProduction" id="dateOfProduction" type="date" class="input-text" >
				</div>
			</div>
			<div>
				<label><span>*</span>保质期至：</label>
				<div>
					<input name="dateOfExpiry" id="dateOfExpiry" type="date" class="input-text" >
				</div>
			</div>

					
			<div>
				<div >
					<button class="submit" type="submit"><i></i> 提交</button>
					
					<button  type="button"><a href="../manager/drugs.html">取消</a></button>
				</div>
			</div>
		</form>
	</div>
	<script src="../../js/datas.js"></script>
	<script>

		let obj = getURLParams();

		var durgID = document.querySelector('#drugID');
		drugID.setAttribute("readOnly",'true');
		var batchNumber = document.querySelector('#batchNumber');
		batchNumber.setAttribute("readOnly",'true');
		var supplierID = document.querySelector('#supplierID');
		batchNumber.setAttribute("readOnly",'true');
		var dname = document.querySelector('#name');
		batchNumber.setAttribute("readOnly",'true');

		var placeOfOrigin = document.querySelector('#placeOfOrigin');
		placeOfOrigin.setAttribute("readOnly",'true');

		var categoryOfOwnership = document.querySelector('#categoryOfOwnership');
		categoryOfOwnership.setAttribute("readOnly",'true');

		var purchasingPrice = document.querySelector('#purchasingPrice');
		purchasingPrice.setAttribute("readOnly",'true');

		var unitPrice = document.querySelector('#unitPrice');
		var inventory = document.querySelector('#inventory');
		inventory.setAttribute("readOnly",'true');

		var dateOfProduction = document.querySelector("#dateOfProduction");
		dateOfProduction.setAttribute("readOnly",'true');

		var dateOfExpiry = document.querySelector('#dateOfExpiry');
		dateOfExpiry.setAttribute("readOnly",'true');


		console.log(obj);

		durgID.value = obj.drugID;
		//将不可修改的值设置成为readOnly
		durgID.setAttribute("readOnly",'true');
		batchNumber.value = obj.batchNumber;
		batchNumber.setAttribute("readOnly",'true');
		supplierID.value = obj.supplierID;
		supplierID.setAttribute("readOnly",'true');
		dname.value = obj.name;
		placeOfOrigin.value = obj.placeOfOrigin;
		categoryOfOwnership.value =obj.categoryOfOwnership;
		purchasingPrice.value = obj.purchasingPrice;
		unitPrice.value=obj.unitPrice;
		inventory.value=obj.inventory;
		dateOfProduction.value = obj.dateOfProduction;
		dateOfExpiry.value = obj.dateOfExpiry;


		// 设置input高亮
		var form = document.querySelector('form');
		var btns = form.querySelector('button');
		var inputs = form.querySelectorAll('input');
		for(var i=0;i<inputs.length;i++){
		inputs[i].addEventListener('click',function(){
                for(var i=0;i<inputs.length;i++){
                   inputs[i].className='';
                }
                this.className='checked';
             });
		}
		
		//提交弹窗
		var sub = document.querySelector('.submit');
		sub.addEventListener('click',function(){
			var yes = confirm('确认提交吗？');
			if(yes)
			{
				alert('提交成功');
			}

		});

	</script>
</body>
</html>