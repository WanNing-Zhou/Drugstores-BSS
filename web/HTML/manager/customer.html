<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>客户管理</title>
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="stylesheet" href="http://at.alicdn.com/t/c/font_3325711_mirxq8ske8b.css">
</head>
<body>
    <!-- 顶部导航 -->
    <div class="headder">
        <div class="headderLeft">
            <i class="iconfont">&#xe616;</i>药店进销存系统
        </div>
        
        <div class="headderRight">
            <div class="managerWelcome" id="r1">你好，经理</div>
            <div class="userId" id="r1">ID:</div>
            <div class="exit" id="r1"><a>退出<i class="iconfont">&#xe606;</i></a></div>
        </div>
    </div>
    <div id="search">
        <div class="welcome">
            <h2>您的身份是经理，<br>欢迎使用本系统~</h2>
        </div>
        <p class="search">
        <input type="text" placeholder="在此搜索...">
        
        <button><span class="t" type="submit"> 搜索</span></button>
    </p> 
    </div>
   
    <div class="innerbody">
        <!-- 左侧导航栏 -->
        <div class="nav">
            <ul class="ul_1">
                <li  class="current">
                    <div>
                       <i class="iconfont"> &#xe62e;</i><a href="../manager/customer.html">客户管理</a>
                    </div>
               </li>
               <li class="">
                   <div class="">
                      <i class="iconfont">&#xe608;</i> <a href="../manager/staff.html">员工管理</a>
                   </div>
              </li>
              <li class="">
               <div class="">
                   <i class="iconfont">&#xeb64;</i><a href="../manager/supplier.html">供应商管理</a>
               </div>
                </li>
                <li class="">
                   <div class="">
                    <i class="iconfont">&#xe91b;</i><a href="../manager/drugs.html">药品管理</a>
                   </div>
              </li>
              <li class="">
               <div class="">
                <i class="iconfont">&#xe60b;</i><a href="../manager/sale.html">销售管理</a>
               </div>
                </li>
                <li class="">
                   <div class="">
                    <i class="iconfont">&#xe91d;</i><a href="../manager/returnGoods.html">退货管理</a>
                   </div>
              </li>
              <li class="">
               <div class="">
                <i class="iconfont">&#xe91e;</i><a href="../manager/warehousing.html">入库管理</a>
               </div>
               </li>
               <li class="">
                   <div class="">
                    <i class="iconfont">&#xe91c;</i><a href="../manager/issue.html">出库管理</a> 
                   </div>
                </li>
               <li class="">
                   <div class="">
                    <i class="iconfont">&#xe6c8;</i><a href="../manager/finance.html">财政收支管理</a>    
                   </div>
                </li>
            </ul>
             
        </div>
        <!-- 表单 -->
        <div class="table">
            <table>
               <thead>
                    <tr>
                       
                        <td>客户ID</td>
                        <td>姓名</td>
                        <td>联系方式</td>
                        <td class="insert"><a href="customer-insert.html">增加(<span>+</span>)</a></td>

                        
                    </tr>
               </thead>
               <tbody>
                   
               </tbody>
            </table>
           
            
        </div>
        <script type='text/javascript' src='../../js/datas.js'></script>
        <script>
        // table
        
        
        // var datas=[{
        //     ID:'1',
        //     name:'一二三',
        //     phone:'12345'
        // }];
        // var htmlTag = '<a href="./customer-update.html?name=李建昌&phone=l23456">编辑</a>';
        //
        //
        // showlistWithoutDel(datas,htmlTag);

        let params = ['customerID','name','phone'];
        let requestUrl = hostURL+"/all/customer";
        let deleteUrl = hostURL + "/manage/delete/customer";
        let updateUrl = hostURL + "/HTML/manager/customer-update.html";
        let deleteByWhat="phone";
        getDate(requestUrl,updateUrl,deleteUrl,deleteByWhat,false,params);

        //表格hover
        var trs = document.querySelector('tbody').querySelectorAll('tr');
        for(var i = 0;i<trs.length;i++)//鼠标经过事件
        {
            trs[i].onmousemove = function(){
                this.className='highlight';
            }
            trs[i].onmouseout = function() {
                this.className = '';//鼠标离开
            }
        }
         // 删除弹窗
        var dels = document.querySelectorAll('.del');
        var tbody =document.querySelector('tbody');
        for(var i=0;i<dels.length;i++){
            dels[i].addEventListener('click',function(){
                var yes = confirm('确定删除吗');
                if(yes){
                     tbody.removeChild(this.parentNode.parentNode);
                    //点击a删除a所在的行 a的爸爸是单元格td 爷爷是tr 要删除tr
                    alert('删除成功');
                }
            });
        }



        // 导航栏
        var ul_1 = document.querySelector('.ul_1');
        var lis = ul_1.querySelectorAll('li');
        for(var i = 0; i<lis.length;i++){
             //设置索引
            lis[i].setAttribute('index',i);
            lis[i].addEventListener('click',function(){
                for(var i=0;i<lis.length;i++){
                   lis[i].className='li_1';
                }
                this.className='current';
             });
           
        }
          //退出页面
          var exit = document.querySelector('.exit');
        exit.onclick = function(){
            var yes = confirm('确认退出到登录界面吗？')
            if(yes){
                location.replace("../login/login.html")
            }
            
        }
        
        </script>
</body>
</html>